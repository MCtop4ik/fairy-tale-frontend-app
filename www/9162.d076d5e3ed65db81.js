"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9162],{9162:(b,g,l)=>{l.r(g),l.d(g,{TalePageModule:()=>v});var u=l(6814),c=l(95),t=l(3582),d=l(3044),e=l(6689),p=l(1269);function m(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1,"Play"),e.qZA())}function f(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1,"Pause"),e.qZA())}function h(n,o){if(1&n&&(e.TgZ(0,"ion-item")(1,"ion-label")(2,"h1"),e._uU(3),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.qZA()()()),2&n){const a=o.$implicit;e.xp6(3),e.AsE("",a.phrase," - ",a.translation,""),e.xp6(2),e.Oqu(a.transcription)}}function T(n,o){if(1&n&&(e.TgZ(0,"ion-accordion-group",20)(1,"ion-accordion",21)(2,"ion-item",22)(3,"ion-label"),e._uU(4,"Glossary"),e.qZA()(),e.TgZ(5,"div",23)(6,"ion-list"),e.YNc(7,h,6,3,"ion-item",24),e.qZA()()()()),2&n){const a=e.oxw();e.xp6(7),e.Q6J("ngForOf",a.tale.grammar)}}function P(n,o){if(1&n&&(e.TgZ(0,"ion-accordion-group",20)(1,"ion-accordion",25)(2,"ion-item",22)(3,"ion-label"),e._uU(4,"Text"),e.qZA()(),e.TgZ(5,"div",23),e._uU(6),e.qZA()()()),2&n){const a=e.oxw();e.xp6(6),e.Oqu(a.tale.full_text)}}const _=[{path:"",component:(()=>{var n;class o{constructor(i,s){this.route=i,this.httpService=s,this.tale={title:"undefined",author:{first_last:"undefined"},full_text:"undefined",bg_img:"https://pcvector.net/uploads/posts/2018-02/1517572511_bg-svg-gradient-min.png",grammar:[{phrase:"undefined",transcription:"undefined",translation:"undefined"}],video_src:"undefined"},this.segment_value="text",this.isPlaying=!1,this.currentTime="0:00",this.duration="0:00",this.progress=0}ngOnInit(){this.audioPlayer=document.getElementById("audioPlayer"),this.audioPlayer.addEventListener("timeupdate",this.updateTime.bind(this)),this.route.params.subscribe(i=>this.id=i.id),this.getTale()}getTale(){console.log(this.id),this.httpService.getTaleData(this.id).subscribe(i=>{this.tale=i})}segmentChanged(i){console.log(i.detail.value),this.segment_value=i.detail.value}playPause(){this.isPlaying?this.audioPlayer.pause():this.audioPlayer.play(),this.isPlaying=!this.isPlaying}updateTime(){this.progress=this.audioPlayer.currentTime/this.audioPlayer.duration*100,this.currentTime=this.formatTime(this.audioPlayer.currentTime),this.duration=this.formatTime(this.audioPlayer.duration)}formatTime(i){const s=Math.floor(i/60),r=Math.floor(i%60);return`${s}:${r<10?"0":""}${r}`}}return(n=o).\u0275fac=function(i){return new(i||n)(e.Y36(d.gz),e.Y36(p.O))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tale"]],decls:43,vars:11,consts:[[3,"translucent"],["slot","start"],["defaultHref","/tales/morning"],[1,"background",3,"fullscreen"],[1,"card_floodfill"],["size","2","offset-md","3","size-md","6"],[1,"audio-player"],["id","audioPlayer","controls",""],["src","../../assets/audio/test.mp3"],[1,"controls"],[3,"click"],[4,"ngIf"],[1,"progress-bar"],[1,"progress"],[1,"time"],["size-lg","4"],["value","text",3,"ionChange"],["value","text"],["value","glossary"],["expand","inset",4,"ngIf"],["expand","inset"],["value","second"],["slot","header","color","light"],["slot","content",1,"ion-padding"],[4,"ngFor","ngForOf"],["value","first"]],template:function(i,s){1&i&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e._UZ(3,"ion-back-button",2),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5),e.qZA()()(),e.TgZ(6,"ion-content",3)(7,"body")(8,"ion-grid")(9,"div",4)(10,"ion-card")(11,"ion-row")(12,"ion-col",5)(13,"div",6)(14,"audio",7),e._UZ(15,"source",8),e.qZA(),e.TgZ(16,"div",9)(17,"button",10),e.NdJ("click",function(){return s.playPause()}),e.YNc(18,m,2,0,"span",11),e.YNc(19,f,2,0,"span",11),e.qZA(),e.TgZ(20,"div",12),e._UZ(21,"div",13),e.qZA(),e.TgZ(22,"div",14)(23,"span"),e._uU(24),e.qZA(),e._uU(25," / "),e.TgZ(26,"span"),e._uU(27),e.qZA()()()()()(),e.TgZ(28,"ion-card-title")(29,"ion-row")(30,"ion-col",15)(31,"ion-segment",16),e.NdJ("ionChange",function(x){return s.segmentChanged(x)}),e.TgZ(32,"ion-segment-button",17)(33,"ion-label"),e._uU(34,"Text"),e.qZA()(),e.TgZ(35,"ion-segment-button",18)(36,"ion-label"),e._uU(37,"Glossary"),e.qZA()()()()(),e.TgZ(38,"ion-row")(39,"ion-col"),e.YNc(40,T,8,1,"ion-accordion-group",19),e.YNc(41,P,7,1,"ion-accordion-group",19),e.qZA()()(),e._UZ(42,"ion-card-content"),e.qZA()()()()()),2&i&&(e.Q6J("translucent",!0),e.xp6(5),e.hij("",s.tale.title," "),e.xp6(1),e.Q6J("fullscreen",!0),e.xp6(12),e.Q6J("ngIf",!s.isPlaying),e.xp6(1),e.Q6J("ngIf",s.isPlaying),e.xp6(2),e.Udp("width",s.progress+"%"),e.xp6(3),e.Oqu(s.currentTime),e.xp6(3),e.Oqu(s.duration),e.xp6(13),e.Q6J("ngIf","glossary"==s.segment_value),e.xp6(1),e.Q6J("ngIf","text"==s.segment_value))},dependencies:[u.sg,u.O5,t.We,t.eh,t.Sm,t.PM,t.FN,t.Dq,t.wI,t.W2,t.jY,t.Gu,t.Ie,t.Q$,t.q_,t.Nd,t.cJ,t.GO,t.wd,t.sr,t.QI,t.oU],styles:["body[_ngcontent-%COMP%]{background:radial-gradient(circle,rgb(255,237,194) 0%,rgb(252,207,127) 100%)}.audio-player[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}audio[_ngcontent-%COMP%]::-webkit-media-controls{display:none}.controls[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:10px}button[_ngcontent-%COMP%]{border:none;background-color:#007bff;color:#fff;padding:5px 10px;margin:0 5px;cursor:pointer}.progress-bar[_ngcontent-%COMP%]{width:200px;height:10px;background-color:#eee;position:relative}.progress[_ngcontent-%COMP%]{height:100%;background-color:#007bff}.time[_ngcontent-%COMP%]{margin-left:10px}@media only screen and (max-width: 768px){.audio-player[_ngcontent-%COMP%]{padding:10px;display:none}audio[_ngcontent-%COMP%]::-webkit-media-controls{display:unset}}"]}),o})()}];let y=(()=>{var n;class o{}return(n=o).\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.Bz.forChild(_),d.Bz]}),o})();var Z=l(2898);let v=(()=>{var n;class o{}return(n=o).\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez,c.u5,t.Pc,y,Z.D]}),o})()}}]);